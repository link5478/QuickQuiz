--NEW DATABASE COMMANDS--

CREATE TABLE COURSE(
ID VARCHAR (20) PRIMARY KEY,
NAME VARCHAR (64) NOT NULL);


CREATE TABLE USER(
ID VARCHAR(20) PRIMARY KEY,
NAME VARCHAR(64) NOT NULL,
PASSWORD VARCHAR(64) NOT NULL,
TYPE VARCHAR(10) NOT NULL,
COURSEID VARCHAR(20) NOT NULL,
FOREIGN KEY (COURSEID) REFERENCES COURSE (ID)
);

CREATE TABLE MODULE(
ID VARCHAR(20) PRIMARY KEY,
NAME VARCHAR(64) NOT NULL,
COURSEID VARCHAR(20) NOT NULL,
FOREIGN KEY (COURSEID) REFERENCES COURSE (ID)
);

CREATE TABLE QUIZ(
ID INT(20) PRIMARY KEY,
NAME VARCHAR(64) NOT NULL,
DESCRIPTION VARCHAR(64) NOT NULL,
USERID VARCHAR(20) NOT NULL,
MODULEID VARCHAR(20) NOT NULL,
FOREIGN KEY(USERID) REFERENCES USER(ID),
FOREIGN KEY(MODULEID) REFERENCES MODULE(ID)
);

CREATE TABLE QUESTION(
ID INT(10) PRIMARY KEY auto_increment,
TEXT VARCHAR(64) NOT NULL,
ANSWER1 VARCHAR(64) NOT NULL,
ANSWER2 VARCHAR(64) NOT NULL,
ANSWER3 VARCHAR(64) NOT NULL,
ANSWER4 VARCHAR(64) NOT NULL,
CORRECTANSWER CHAR(1) NOT NULL,
QUESTIONNO INT(10) NOT NULL,
QUIZID INT(20) NOT NULL,
FOREIGN KEY (QUIZID) REFERENCES QUIZ(ID)
);

CREATE TABLE RESULT(
ID INT(20) PRIMARY KEY auto_increment,
MARK INT(20) NOT NULL,
USERID VARCHAR(20) NOT NULL,
QUIZID INT(20) NOT NULL,
FOREIGN KEY (USERID) REFERENCES USER(ID),
FOREIGN KEY (QUIZID) REFERENCES QUIZ(ID)
);

CREATE TABLE ANSWER(
ID INT(20) PRIMARY KEY auto_increment,
ANSWER CHAR(1),
RESULTID INT(20) NOT NULL,
FOREIGN KEY(RESULTID) REFERENCES RESULT(ID)
);
